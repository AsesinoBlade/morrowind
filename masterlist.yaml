# LOOT ignores anything that doesn't come under 'bash_tags', globals', 'groups'
# or 'plugins', so a section like this is useful for storing data that gets
# re-used.
common:
# Messages
  - &alreadyInX
    type: error
    content:
      - lang: en
        text: 'Delete. Already included in %1%.'
      - lang: ru
        text: 'Удалите. Уже включено в %1%.'
      - lang: es
        text: 'Borrar. Esta incluido en %1%.'
      - lang: ko
        text: '삭제하십시오. 이미 %1%에 포함되어 있습니다.'
      - lang: zh_CN
        text: '删除。已包含在%1%中。'
      - lang: da
        text: 'Slet. Allerede inkluderet i %1%.'
      - lang: ja
        text: '削除してください。既に%1%に含まれています。'
      - lang: de
        text: 'Löschen. Bereits in %1% enthalten.'
      - lang: pt
        text: 'Apagar. Já incluído em %1%.'

  - &obsolete
    type: say
    content:
      - lang: en
        text: 'Obsolete. Update to the latest version. %1%'
      - lang: ru
        text: 'Устарело. Обновите до последней версии. %1%'
      - lang: es
        text: 'Obsoleto. Actualizar a la última versión. %1%'
      - lang: ko
        text: '사용되지 않습니다. 최신 버전으로 업데이트하십시오. %1%'
      - lang: zh_CN
        text: '已过时。请升级到最新版本。 %1%'
      - lang: da
        text: 'Forældet. Opdatér til den nyeste version. %1%'
      - lang: ja
        text: '旧式のプラグインです。最新版に更新してください。 %1%'
      - lang: de
        text: 'Veraltet. Aktualisere zur letzten Version. %1%'
    subs: [ '' ]

  - &useInstead
    type: warn
    content:
      - lang: en
        text: 'Use %1% instead.'
      - lang: ja
        text: '代わりに%1%を使用してください。'

bash_tags: []

globals:
  - type: say
    content:
      - lang: en
        text: '[Latest LOOT thread](%1%).'
      - lang: ru
        text: '[Обсуждение LOOT "(Eng)"](%1%).'
      - lang: es
        text: '[Forum de LOOT](%1%).'
      - lang: ko
        text: '[최신 LOOT 스레드](%1%).'
      - lang: zh_CN
        text: '[最新的LOOT版本](%1%)。'
      - lang: da
        text: '[Seneste LOOT-tråd](%1%).'
      - lang: ja
        text: '[LOOTの最新スレッドを開く](%1%)（英語）'
      - lang: de
        text: '[Aktueller LOOT-Thread](%1%).'
      - lang: pt
        text: '[Postagem mais recente do LOOT](%1%).'
    subs: [ 'https://loot.github.io/latest-thread/' ]

groups:
  - name: &dlcGroup DLC

  - name: &unofficialPatches Unofficial Patches
    after: [ *dlcGroup ]

  - name: &earlyLoadersGroup Early Loaders
    after: [ *unofficialPatches ]

  - name: &default default
    after: [ *earlyLoadersGroup ]

  - name: &dynamicPatchGroup Dynamic Patches
    after: [ *default ]

plugins:
# Official DLC
  - name: 'Tribunal.esm'
    group: *dlcGroup

  - name: 'Bloodmoon.esm'
    group: *dlcGroup
    after:
      - 'Tribunal.esm'

# Official Mods
  - name: '(adamantiumarmor|AreaEffectArrows|bcsounds|EBQ_Artifact|entertainers|LeFemmArmor|master_index|Siege at Firemoth).esp'
    url:
      - link: 'https://en.m.uesp.net/wiki/Morrowind:Plugins'
        name: 'Morrowind Official Plugins on UESP.net'
      - link: 'http://download.fliggerty.com/download-13-1079'
        name: 'Morrowind Official Plugins on fliggerty.com'
      - link: 'https://www.nexusmods.com/morrowind/mods/43931'
        name: 'Unofficial Morrowind Official Plugins Patched'

  - name: 'adamantiumarmor.esp'
    group: *earlyLoadersGroup
    after:
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'EBQ_Artifact.esp'
      - 'entertainers.esp'
      - 'LeFemmArmor.esp'
      - 'master_index.esp'

  - name: 'AreaEffectArrows.esp'
    group: *earlyLoadersGroup
    after:
      - 'bcsounds.esp'
      - 'entertainers.esp'

  - name: 'bcsounds.esp'
    group: *earlyLoadersGroup
    after:
      - 'entertainers.esp'

  - name: 'EBQ_Artifact.esp'
    group: *earlyLoadersGroup
    after:
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'entertainers.esp'

  - name: 'entertainers.esp'
    group: *earlyLoadersGroup

  - name: 'LeFemmArmor.esp'
    url:
      - link: 'https://www.nexusmods.com/morrowind/mods/42560'
        name: 'Expanded LeFemm Armor'
    group: *earlyLoadersGroup
    after:
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'EBQ_Artifact.esp'
      - 'entertainers.esp'
      - 'master_index.esp'

  - name: 'master_index.esp'
    group: *earlyLoadersGroup
    after:
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'EBQ_Artifact.esp'
      - 'entertainers.esp'

  - name: 'Siege at Firemoth.esp'
    group: *earlyLoadersGroup
    after:
      - 'adamantiumarmor.esp'
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'EBQ_Artifact.esp'
      - 'entertainers.esp'
      - 'LeFemmArmor.esp'
      - 'master_index.esp'

# Unofficial Patches

  - name: 'Patch for Purists.*\.es(m|p)'
    url: [ 'https://www.nexusmods.com/morrowind/mods/45096' ]
    group: *unofficialPatches
  - name: 'Patch for Purists( - Base Patch)?\.esm'
    inc:
      - 'gr_ScriptImprovements.esm'
      - 'gr_ScriptImprovements.esp'
      - 'Morrowind Patch v1.2.2.esm'
      - 'Morrowind Patch v1.6.3.esm'
      - 'Morrowind Patch v1.6.4.esm'
      - 'Morrowind Patch v1.6.5-BETA.esm'
      - 'Morrowind Patch 1.6.5 Beta (BTB Edit).esm'
      - 'Morrowind Patch v1.6.5d_beta.esm'
      - 'Morrowind Patch v1.6.6_beta.esm'
      - 'Morrowind Rebirth [Main].ESP'
    msg:
      - <<: *useInstead
        type: error
        subs: [ 'Morrowind Patch Project 1.6.5 [For Rebirth].esm' ]
        condition: 'active("Morrowind Rebirth [Main].ESP")'

  - name: 'Patch for Purists.esm'
    msg:
      - <<: *obsolete
        condition: 'version("Patch for Purists.esm", "3.1.2", <)'
      - type: say
        content: 'Legacy version. Only recommended for old saves.'
        condition: 'version("Patch for Purists.esm", "3.1.2", <)'

  - name: 'Patch for Purists - (Base Patch|(Book|Dialogue|Statistic) Typos|Floating Rocks|Expansion Implementation|Dialogue Inconsistencies)\.esm'
    msg:
      - *obsolete
      - type: say
        content: 'Legacy version. Only recommended for old saves.'

  - name: 'Patch for Purists - Base Patch.esm'
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'

  - name: 'Patch for Purists - Book Typos.esm'
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'

  - name: 'Patch for Purists - Floating Rocks.esm'
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'
      - name: 'Patch for Purists - Book Typos.esm'

  - name: 'Patch for Purists - Expansion Implementation.esm'
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'
      - name: 'Patch for Purists - Book Typos.esm'
      - name: 'Patch for Purists - Floating Rocks.esm'

  - name: 'Patch for Purists - Dialogue Inconsistencies.esm'
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'
      - name: 'Patch for Purists - Book Typos.esm'
      - name: 'Patch for Purists - Floating Rocks.esm'
      - name: 'Patch for Purists - Expansion Implementation.esm'

  - name: 'Patch for Purists - Statistic Typos.esm'
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'
      - name: 'Patch for Purists - Book Typos.esm'
      - name: 'Patch for Purists - Floating Rocks.esm'
      - name: 'Patch for Purists - Expansion Implementation.esm'
      - name: 'Patch for Purists - Dialogue Inconsistencies.esm'

# Other Fixes
  - name: 'gr_ScriptImprovements.es(m|p)'
    url: [ 'https://www.nexusmods.com/morrowind/mods/43828' ]
    msg:
      - <<: *alreadyInX
        subs: [ 'Patch for Purists' ]
        condition: 'active("Patch for Purists.esm") or active("Patch for Purists - Base Patch.esm")'

#Other Mods (default)
  - name: 'Improved Argonians.esp'
    inc:
      - 'Wey_New_Argonians.ESP'
      - 'Slof''s Civilised Beasts.esp'
      - 'Slof''s Better Beasts b.esp'
      - 'Slof''s Better Beasts a.esp'
      - 'Slof''s BB neck fix.esp'

  - name: 'correctUV Ore Replacer_fixed.esp'
    inc:
      - 'correctUV Ore Replacer_respawning.esp'
      - 'Graphic Herbalism Extra (Correct UV).esp'
      - 'correctUV Ore Replacer 1.0.esp'
      - 'Graphic Herbalism.esp'
      - 'Graphic Herbalism Extra.esp'
      - 'Graphic Herbalism TR.ESP'
      - 'Graphic Herbalism TR Extra.ESP'

  - name: 'correctUV Ore Replacer_respawning.esp'
    inc:
      - 'correctUV Ore Replacer_fixed.esp'
      - 'Graphic Herbalism Extra (Correct UV).esp'
      - 'correctUV Ore Replacer 1.0.esp'
      - 'Graphic Herbalism.esp'
      - 'Graphic Herbalism Extra.esp'
      - 'Graphic Herbalism TR.ESP'
      - 'Graphic Herbalism TR Extra.ESP'

#Any dynamic patches (not sure if multipatch is the  only one)
  - name: 'multipatch.esp'
    group: *dynamicPatchGroup
