# LOOT ignores anything that doesn't come under 'bash_tags', globals', 'groups'
# or 'plugins', so a section like this is useful for storing data that gets
# re-used.
common:
# Messages
  - &obsolete
    type: say
    content:
      - lang: en
        text: 'Obsolete. Update to the latest version. %1%'
      - lang: ru
        text: 'Устарело. Обновите до последней версии. %1%'
      - lang: es
        text: 'Obsoleto. Actualizar a la última versión. %1%'
      - lang: ko
        text: '사용되지 않습니다. 최신 버전으로 업데이트하십시오. %1%'
      - lang: zh_CN
        text: '已过时。请升级到最新版本。 %1%'
      - lang: da
        text: 'Forældet. Opdatér til den nyeste version. %1%'
      - lang: ja
        text: '旧式のプラグインです。最新版に更新してください。 %1%'
      - lang: de
        text: 'Veraltet. Aktualisere zur letzten Version. %1%'
    subs: [ '' ]

bash_tags: []

globals:
  - type: say
    content:
      - lang: en
        text: '[Latest LOOT thread](%1%).'
      - lang: ru
        text: '[Обсуждение LOOT "(Eng)"](%1%).'
      - lang: es
        text: '[Forum de LOOT](%1%).'
      - lang: ko
        text: '[최신 LOOT 스레드](%1%).'
      - lang: zh_CN
        text: '[最新的LOOT版本](%1%)。'
      - lang: da
        text: '[Seneste LOOT-tråd](%1%).'
      - lang: ja
        text: '[LOOTの最新スレッドを開く](%1%)（英語）'
      - lang: de
        text: '[Aktueller LOOT-Thread](%1%).'
      - lang: pt
        text: '[Postagem mais recente do LOOT](%1%).'
    subs: [ 'https://loot.github.io/latest-thread/' ]

groups:
  - name: &dlcGroup DLC

  - name: &unofficialPatches Unofficial Patches
    after: [ *dlcGroup ]

  - name: &earlyLoadersGroup Early Loaders
    after: [ *unofficialPatches ]

  - name: &default default
    after: [ *earlyLoadersGroup ]

  - name: &dynamicPatchGroup Dynamic Patches
    after: [ *default ]

plugins:
# Official DLC
  - name: 'Tribunal.esm'
    group: *dlcGroup

  - name: 'Bloodmoon.esm'
    group: *dlcGroup
    after:
      - 'Tribunal.esm'

# Official Mods
  - name: '(adamantiumarmor|AreaEffectArrows|bcsounds|EBQ_Artifact|entertainers|LeFemmArmor|master_index|Siege at Firemoth).esp'
    url:
      - link: 'https://en.m.uesp.net/wiki/Morrowind:Plugins'
        name: 'Morrowind Official Plugins on UESP.net'
      - link: 'http://download.fliggerty.com/download-13-1079'
        name: 'Morrowind Official Plugins on fliggerty.com'
      - link: 'https://www.nexusmods.com/morrowind/mods/43931'
        name: 'Unofficial Morrowind Official Plugins Patched'

  - name: 'adamantiumarmor.esp'
    group: *earlyLoadersGroup
    after:
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'EBQ_Artifact.esp'
      - 'entertainers.esp'
      - 'LeFemmArmor.esp'
      - 'master_index.esp'

  - name: 'AreaEffectArrows.esp'
    group: *earlyLoadersGroup
    after:
      - 'bcsounds.esp'
      - 'entertainers.esp'

  - name: 'bcsounds.esp'
    group: *earlyLoadersGroup
    after:
      - 'entertainers.esp'

  - name: 'EBQ_Artifact.esp'
    group: *earlyLoadersGroup
    after:
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'entertainers.esp'

  - name: 'entertainers.esp'
    group: *earlyLoadersGroup

  - name: 'LeFemmArmor.esp'
    url:
      - link: 'https://www.nexusmods.com/morrowind/mods/42560'
        name: 'Expanded LeFemm Armor'
    group: *earlyLoadersGroup
    after:
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'EBQ_Artifact.esp'
      - 'entertainers.esp'
      - 'master_index.esp'

  - name: 'master_index.esp'
    group: *earlyLoadersGroup
    after:
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'EBQ_Artifact.esp'
      - 'entertainers.esp'

  - name: 'Siege at Firemoth.esp'
    group: *earlyLoadersGroup
    after:
      - 'adamantiumarmor.esp'
      - 'AreaEffectArrows.esp'
      - 'bcsounds.esp'
      - 'EBQ_Artifact.esp'
      - 'entertainers.esp'
      - 'LeFemmArmor.esp'
      - 'master_index.esp'

# Unofficial Patches

  - name: 'Patch for Purists.esm'
    group: *unofficialPatches
    inc:
      - 'gr_ScriptImprovements.esm'
      - 'gr_ScriptImprovements.esp'
      - 'Morrowind Patch v1.2.2.esm'
      - 'Morrowind Patch v1.6.3.esm'
      - 'Morrowind Patch v1.6.4.esm'
      - 'Morrowind Patch v1.6.5-BETA.esm'
      - 'Morrowind Patch 1.6.5 Beta (BTB Edit).esm'
      - 'Morrowind Patch v1.6.5d_beta.esm'
      - 'Morrowind Patch v1.6.6_beta.esm'
      - 'Morrowind Rebirth [Main].ESP'
    msg:
      - <<: *obsolete
        condition: 'version("Patch for Purists.esm", "3.1.2", <)'
      - type: say
        content: 'Legacy version. Only recommended for old saves.'
        condition: 'version("Patch for Purists.esm", "3.1.2", <)'

  - name: 'Patch for Purists - Dialogue Typos.esm'
    group: *unofficialPatches
    msg:
      - *obsolete
      - type: say
        content: 'Legacy version. Only recommended for old saves.'

  - name: 'Patch for Purists - Base Patch.esm'
    group: *unofficialPatches
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
    inc:
      - 'gr_ScriptImprovements.esm'
      - 'gr_ScriptImprovements.esp'
      - 'Morrowind Patch v1.2.2.esm'
      - 'Morrowind Patch v1.6.3.esm'
      - 'Morrowind Patch v1.6.4.esm'
      - 'Morrowind Patch v1.6.5-BETA.esm'
      - 'Morrowind Patch 1.6.5 Beta (BTB Edit).esm'
      - 'Morrowind Patch v1.6.5d_beta.esm'
      - 'Morrowind Patch v1.6.6_beta.esm'
      - 'Morrowind Rebirth [Main].ESP'
    msg:
      - *obsolete
      - type: say
        content: 'Legacy version. Only recommended for old saves.'
      - type: error
        condition: 'active("Morrowind Rebirth [Main].ESP")'
        content:
          - lang: en
            text: 'Use "Morrowind Patch Project 1.6.5 [For Rebirth].esm" instead for Patch for Purists.'
      - type: error
        condition: 'active("gr_ScriptImprovements.esp") or active("gr_ScriptImprovements.esm")'
        content:
          - lang: en
            text: 'Patch for Purists already implements the real fixes Script Improvements provides to scripts'

  - name: 'Patch for Purists - Book Typos.esm'
    group: *unofficialPatches
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'
    msg:
      - *obsolete
      - type: say
        content: 'Legacy version. Only recommended for old saves.'

  - name: 'Patch for Purists - Floating Rocks.esm'
    group: *unofficialPatches
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'
      - name: 'Patch for Purists - Book Typos.esm'
    msg:
      - *obsolete
      - type: say
        content: 'Legacy version. Only recommended for old saves.'

  - name: 'Patch for Purists - Expansion Implementation.esm'
    group: *unofficialPatches
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'
      - name: 'Patch for Purists - Book Typos.esm'
      - name: 'Patch for Purists - Floating Rocks.esm'
    msg:
      - *obsolete
      - type: say
        content: 'Legacy version. Only recommended for old saves.'

  - name: 'Patch for Purists - Dialogue Inconsistencies.esm'
    group: *unofficialPatches
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'
      - name: 'Patch for Purists - Book Typos.esm'
      - name: 'Patch for Purists - Floating Rocks.esm'
      - name: 'Patch for Purists - Expansion Implementation.esm'
    msg:
      - *obsolete
      - type: say
        content: 'Legacy version. Only recommended for old saves.'

  - name: 'Patch for Purists - Statistic Typos.esm'
    group: *unofficialPatches
    after:
      - name: 'Patch for Purists - Dialogue Typos.esm'
      - name: 'Patch for Purists - Base Patch.esm'
      - name: 'Patch for Purists - Book Typos.esm'
      - name: 'Patch for Purists - Floating Rocks.esm'
      - name: 'Patch for Purists - Expansion Implementation.esm'
      - name: 'Patch for Purists - Dialogue Inconsistencies.esm'
    msg:
      - *obsolete
      - type: say
        content: 'Legacy version. Only recommended for old saves.'

#Other Mods (default)
  - name: 'Improved Argonians.esp'
    inc:
      - 'Wey_New_Argonians.ESP'
      - 'Slof''s Civilised Beasts.esp'
      - 'Slof''s Better Beasts b.esp'
      - 'Slof''s Better Beasts a.esp'
      - 'Slof''s BB neck fix.esp'

  - name: 'correctUV Ore Replacer_fixed.esp'
    inc:
      - 'correctUV Ore Replacer_respawning.esp'
      - 'Graphic Herbalism Extra (Correct UV).esp'
      - 'correctUV Ore Replacer 1.0.esp'
      - 'Graphic Herbalism.esp'
      - 'Graphic Herbalism Extra.esp'
      - 'Graphic Herbalism TR.ESP'
      - 'Graphic Herbalism TR Extra.ESP'

  - name: 'correctUV Ore Replacer_respawning.esp'
    inc:
      - 'correctUV Ore Replacer_fixed.esp'
      - 'Graphic Herbalism Extra (Correct UV).esp'
      - 'correctUV Ore Replacer 1.0.esp'
      - 'Graphic Herbalism.esp'
      - 'Graphic Herbalism Extra.esp'
      - 'Graphic Herbalism TR.ESP'
      - 'Graphic Herbalism TR Extra.ESP'

#Any dynamic patches (not sure if multipatch is the  only one)
  - name: 'multipatch.esp'
    group: *dynamicPatchGroup
